/**
 * VanylaLauncher Optimization & Performance - iPhone 17 Level Smoothness
 * GPU Acceleration + Parallel Animations + Ultra-Fast Transitions
 */

/* ============================================================================ */
/* FOUNDATION: GPU ACCELERATION & HARDWARE RENDERING */
/* ============================================================================ */

* {
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
}

html, body {
    will-change: auto;
}

/* ============================================================================ */
/* TRANSITION MODE: LOCK UI & PREVENT POINTER EVENTS */
/* ============================================================================ */

body.transition-mode {
    pointer-events: none !important;
    user-select: none !important;
    overflow: hidden !important;
}

body.transition-mode * {
    pointer-events: none !important;
}

/* ============================================================================ */
/* VIEW TRANSITIONS: PARALLEL ANIMATIONS (EXIT + ENTER AT SAME TIME) */
/* ============================================================================ */

.view {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 1;
    transform: translateZ(0);
    will-change: opacity;
    contain: layout style paint;
}

.view.hidden {
    display: none;
    opacity: 0;
    pointer-events: none;
}

/* Exit animation - current view fades out + scales down */
.view.exiting {
    animation: viewExit 250ms cubic-bezier(0.55, 0.055, 0.675, 0.19) forwards;
    pointer-events: none;
}

/* Enter animation - new view fades in + scales up (PARALLEL!) */
.view.entering {
    animation: viewEnter 250ms cubic-bezier(0.215, 0.61, 0.355, 1) forwards;
    opacity: 0;
    pointer-events: none;
}

@keyframes viewExit {
    0% {
        opacity: 1;
        transform: translateZ(0) scale(1);
    }
    100% {
        opacity: 0;
        transform: translateZ(0) scale(0.98);
    }
}

@keyframes viewEnter {
    0% {
        opacity: 0;
        transform: translateZ(0) scale(1.02);
    }
    100% {
        opacity: 1;
        transform: translateZ(0) scale(1);
    }
}

/* ============================================================================ */
/* FAST FADE ANIMATIONS */
/* ============================================================================ */

.fade-in {
    animation: fadeIn 250ms cubic-bezier(0.215, 0.61, 0.355, 1) forwards;
}

.fade-out {
    animation: fadeOut 250ms cubic-bezier(0.55, 0.055, 0.675, 0.19) forwards;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}

/* ============================================================================ */
/* LAZY LOADED IMAGES - SMOOTH ENTRY */
/* ============================================================================ */

img[data-src] {
    opacity: 0;
    display: block;
    min-height: 1px;
    will-change: opacity;
}

img[data-src].lazy-loaded {
    animation: imageFadeIn 300ms cubic-bezier(0.215, 0.61, 0.355, 1) forwards;
}

@keyframes imageFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* ============================================================================ */
/* INTERACTIVE ELEMENTS - INSTANT FEEDBACK */
/* ============================================================================ */

button, a, input, select, textarea, label {
    will-change: transform, opacity;
}

button:hover, a:hover, label:hover {
    transform: translateZ(0) scale(1.02);
    transition: transform 150ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

button:active, a:active {
    transform: translateZ(0) scale(0.98);
    transition: transform 100ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* ============================================================================ */
/* CONTAINER OPTIMIZATION */
/* ============================================================================ */

.landing-main-column,
.friends-list,
#newsModalContent,
.container,
section,
.modal,
.panel {
    contain: layout style paint;
}

/* ============================================================================ */
/* SIDEBAR & NAVIGATION ITEMS */
/* ============================================================================ */

.sidebar-icon,
.news-card,
.friend-item {
    transform: translateZ(0);
    will-change: transform, opacity;
}

/* ============================================================================ */
/* SCROLLING OPTIMIZATION */
/* ============================================================================ */

::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    transition: background 150ms ease;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
}

/* Debug indicators (optional) */
.asset-preloading {
    opacity: 0.8;
}

.asset-preloaded {
    opacity: 1;
}
